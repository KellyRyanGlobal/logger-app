node {
    environment {
        DOCKER_USER = credentials('docker-username')
        DOCKER_PASS = credentials('docker-password')
        APP_NAME = 'test_app'
        VERSION = '1.0'
    }
    stage('Build') {
        checkout scm
        def testimage = docker.build('test-alpine', ".")
    }
    stage('Test') {
        sh 'docker run -it --rm --name test1 test-alpine:latest ash'
        sh 'ls'
    }
}
