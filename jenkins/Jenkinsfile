node {
    environment {
        DOCKER_USER = credentials('docker-username')
        DOCKER_PASS = credentials('docker-password')
        APP_NAME = 'test_app'
        VERSION = '1.0'
    }
    stage('trying out custom thing') {

        checkout scm
        def testimage = docker.build('test-alpine', "Dockerfile")
        testimage.inside {
            ash 'ls'
         }
    }
    stage('Docker Build Test_App') {
        agent { dockerfile true }
        steps {
            sh 'uname -a'
            sh './test.exe'
        }

    }
}

