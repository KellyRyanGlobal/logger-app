pipeline {
    agent any
    environment {
        DOCKER_USER = credentials('docker-username')
        DOCKER_PASS = credentials('docker-password')
        APP_NAME = 'test_app'
        VERSION = '1.0'
    }
    stages {
        stage('Docker Build Test_App') {
            agent {
                    docker { image 'node:14-alpine' }
                }
            steps {
                sh 'apk update && install docker'
                sh 'service docker start'
                sh 'docker build -t test_app:latest -f Dockerfile .'
            }
        }
    }
}